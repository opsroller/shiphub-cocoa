<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Comments</title>
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/highlight.js/9.1.0/styles/default.min.css">
    <script src="https://cdn.jsdelivr.net/highlight.js/9.1.0/highlight.min.js"></script>
    <script src="marked.min.js"></script>
    
    <script src="https://cdn.jsdelivr.net/react/0.14.0-rc1/react.js"></script>
    <script src="https://cdn.jsdelivr.net/react/0.14.0-rc1/react-dom.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/0.11.0/fetch.js"></script>
    
    <script src="emojify.js"></script>
    
    <style>
      body { 
        font-family: -apple-system, Helvetica, Arial, Sans-Serif; 
        font-size: 10pt;
        line-height: 150%; 
        background-color: #F0EFEF;
        padding-bottom: 15px;
      }
      div.activityList {
        position: relative;
      }
      div.activityList::before {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 34px;
        z-index: -1;
        display: block;
        width: 2px;
        content: "";
        background-color: #DDD;
      }
      hr {
        border: 1px solid #CCC;
      }
      table {
        border-collapse: collapse;
      }
      table, th, td {
        border: 1px solid #CCC;
        padding-bottom: 6px;
        padding-left: 13px;
        padding-right: 13px;
        padding-top: 6px;
      }
      pre { 
        padding: 13px;
        background-color: #F7F7F7;
        border-radius: 6px; 
        font-size: 10pt;
        font-family: menlo, consolas, monaco, sans-serif;
        line-height: 130%;
      }
      div.comment {
        background-color: white;
        border: 1px solid #D6D5D5;
        overflow: hidden;
        margin-top: 16px;
        margin-left: 10px;
        margin-right: 10px;
        box-shadow: 0px 5px 8px #CCC;
      }
      div.commentBody {
        padding-left: 12px;
        padding-right: 12px;
      }
      div.commentBody h1 {
        padding-bottom: 6px;
        border-bottom: 1px solid #eee;
      }
      div.commentBody blockquote {
        margin: 0;
        padding: 0 15px;
        color: #777;
        border-left: 4px solid #ddd
      }
      div.commentHeader {
        height: 32px;
        margin-top: 6px;
        padding-bottom: 6px;
        margin-left: 12px;
        margin-right: 12px;
        vertical-align: middle;
        line-height: 32px;
        font-size: 10pt;
        border-bottom: 1px solid #EFEFEF;
      }
      div.commentHeader img {
        margin-right: 12px;
        float: left;
      }
      span.commentAuthor {
        color: #555555;
        font-weight: bold;
        cursor: default;
      }
      span.commentAuthor:hover {
        text-decoration: underline;
      }
      
      span.commentTimeAgo {
        color: #767676;
      }
      ul.taskList {
        list-style: none;
        margin-left: -20px;
        line-height: 200%;
      }
      ul.taskList input {
        position: relative;
        top: -1px;
      }
      div.commentControls {
        display: inline-block;
        float: right;
        padding-left: 10px;
        padding-right: 12px; 
      }
      div.commentControls i {
        margin-left: 16px;
        color: #BBB;
      }
      div.commentControls i:hover {
        color: #0085E4;
      }
      
      div.event {
        position: relative; 
        margin-top: 16px;
        margin-left: 26px;
        margin-right: 10px;
        font-size: 10pt;
        
        height: 30px;
        line-height: 30px;
        vertical-align: middle;
        
        color: #555555;
/*         background-color: blue; */
      }
      
      i.eventIcon {
        border: 1px solid #F0EFEF;
        background-color: #F0EFEF;
        margin-right: 12px;
        font-size: 20px;
        display: inline-block;
        width: 24px;
        text-align: left;
        vertical-align: middle;
        margin-bottom: 6px;
      }
      
      div.event img {
        border-radius: 4px;
        width: 20px;
        height: 20px;
        margin-right: 4px;
        vertical-align: middle;
        margin-bottom: 6px;
      }
      
      span.eventUser {
        color: #555555;
        font-weight: bold;
        cursor: default;
      }
      span.eventUser:hover {
        text-decoration: underline;
      }
      
      div.eventDelimited::after {
        position: absolute;
        left: 10px;
        right: 2px;
        top: 37px;
        z-index: -1;
        content: "";
        height: 1px;
        background-color: #DDD;
      }
      
      div.eventVeryLast::before {
        position: absolute;
        left: 8px;
        top: 0px;
        bottom: -8px;
        z-index: -1;
        content: "";
        width: 2px;
        background-color: #DDD;
      }
      
      div.eventVeryLast::after {
        position: absolute;
        left: -14px;
        right: 2px;
        top: 37px;
        z-index: -1;
        content: "";
        height: 1px;
        background-color: #DDD;
      }
      
      div.debugLoader {
        margin-left: 20px;
        margin-top: 20px;        
      }
      
    </style>
  </head>
  <body>
    <div id="react-app"></div>

    
    <script>
      var markedRenderer = new marked.Renderer();
      
      markedRenderer.defaultListItem = markedRenderer.listitem;
      markedRenderer.listitem = function(text) {
        var result = this.defaultListItem(text);
        result = result.replace(/\[ \]/, '<input type="checkbox">');
        result = result.replace(/\[x\]/, '<input type="checkbox" checked>');
        return result;
      }
      
      markedRenderer.list = function(body, ordered) {
        if (body.indexOf('<input type="checkbox"') != -1) {
          if (ordered) {
            return "<ol class='taskList'>" + body + "</ol>";
          } else {
            return "<ul class='taskList'>" + body + "</ul>";
          }
        } else {
          if (ordered) {
            return "<ol>" + body + "</ol>";
          } else {
            return "<ul>" + body + "</ul>";
          }
        }
      }
      
      markedRenderer.text = function(text) {
        return emojify(text);
      }
    
      var markdownOpts = {
        renderer: markedRenderer,
        gfm: true,
        tables: true,
        breaks: true,
        pedantic: false,
        sanitize: true,
        smartLists: true,
        smartypants: false,
        highlight: function (code, lang) {
          if (lang) {
            return hljs.highlightAuto(code, [lang]).value;
          } else {
            return code;
          }
        }
      };
      
      var TimeAgo = React.createClass(
        { displayName: 'Time-Ago'
        , timeoutId: 0
        , getDefaultProps: function(){
            return { live: true
                   , component: 'span'
                   , minPeriod: 0
                   , maxPeriod: Infinity
                   , formatter: function (value, unit, suffix) {
                       if(value !== 1){
                         unit += 's'
                       }
                       return value + ' ' + unit + ' ' + suffix
                     }
                   }
          }
        , propTypes:
            { live: React.PropTypes.bool.isRequired
            , minPeriod: React.PropTypes.number.isRequired
            , maxPeriod: React.PropTypes.number.isRequired
            , component: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.func]).isRequired
            , formatter: React.PropTypes.func.isRequired
            , date: React.PropTypes.oneOfType(
                [ React.PropTypes.string
                , React.PropTypes.number
                , React.PropTypes.instanceOf(Date)
                ]
              ).isRequired
            }
        , componentDidMount: function(){
            if(this.props.live) {
              this.tick(true)
            }
          }
        , componentDidUpdate: function(lastProps){
            if(this.props.live !== lastProps.live || this.props.date !== lastProps.date){
              if(!this.props.live && this.timeoutId){
                clearTimeout(this.timeoutId);
                this.timeoutId = undefined;
              }
              this.tick()
            }
          }
        , componentWillUnmount: function() {
          if(this.timeoutId) {
            clearTimeout(this.timeoutId);
            this.timeoutId = undefined;
          }
        }
        , tick: function(refresh){
            if(!this.isMounted() || !this.props.live){
              return
            }

            var period = 1000

            var then = (new Date(this.props.date)).valueOf()
            var now = Date.now()
            var seconds = Math.round(Math.abs(now-then)/1000)

            if(seconds < 60){
              period = 1000
            } else if(seconds < 60*60) {
              period = 1000 * 60
            } else if(seconds < 60*60*24) {
              period = 1000 * 60 * 60
            } else {
              period = 0
            }

            period = Math.min(Math.max(period, this.props.minPeriod), this.props.maxPeriod)

            if(!!period){
              this.timeoutId = setTimeout(this.tick, period)
            }

            if(!refresh){
              this.forceUpdate()
            }
          }
        , render: function(){
            var then = (new Date(this.props.date)).valueOf()
            var now = Date.now()
            var seconds = Math.round(Math.abs(now-then)/1000)

            var suffix = then < now ? 'ago' : 'from now'

            var value, unit

            if(seconds < 60){
              value = Math.round(seconds)
              unit = 'second'
            } else if(seconds < 60*60) {
              value = Math.round(seconds/60)
              unit = 'minute'
            } else if(seconds < 60*60*24) {
              value = Math.round(seconds/(60*60))
              unit = 'hour'
            } else if(seconds < 60*60*24*7) {
              value = Math.round(seconds/(60*60*24))
              unit = 'day'
            } else if(seconds < 60*60*24*30) {
              value = Math.round(seconds/(60*60*24*7))
              unit = 'week'
            } else if(seconds < 60*60*24*365) {
              value = Math.round(seconds/(60*60*24*30))
              unit = 'month'
            } else {
              value = Math.round(seconds/(60*60*24*365))
              unit = 'year'
            }

            var props = this.props;

            return React.createElement( this.props.component, props, this.props.formatter(value, unit, suffix, then) )
          }
        }
      );
      
      var CommentControls = React.createClass({
        propTypes: {
          comment: React.PropTypes.object.isRequired,
          first: React.PropTypes.bool
        },
        
        render: function() {
          var els = [];
          els.push(React.createElement('i', {key:"edit", className:'fa fa-pencil'}));
          if (!this.props.first) {
            els.push(React.createElement('i', {key:"trash", className:'fa fa-trash-o'}));
          }
          return React.createElement('div', {className:'commentControls'}, els);
        }
      });
      
      var CommentHeader = React.createClass({
        propTypes: {
          comment: React.PropTypes.object.isRequired,
          first: React.PropTypes.bool
        },
        
        render: function() {
          return React.createElement('div', {className:'commentHeader'},
            React.createElement('img', {src:this.props.comment.user.avatar_url, width:32, height:32}),
            React.createElement('span', {className:'commentAuthor'}, this.props.comment.user.login),
            React.createElement('span', {className:'commentTimeAgo'}, " commented "),
            React.createElement(TimeAgo, {className:'commentTimeAgo', live:true, date:this.props.comment.created_at}),
            React.createElement(CommentControls, {comment:this.props.comment, first:this.props.first})
          );
        }
      });
    
      var Comment = React.createClass({
        propTypes: {
          comment: React.PropTypes.object.isRequired,
          first: React.PropTypes.bool
        },
        
        render: function() {
          return React.createElement('div', {className:'comment'},
            React.createElement(CommentHeader, {comment:this.props.comment, first:this.props.first}),            
            React.createElement('div', { 
              className:'commentBody', 
              dangerouslySetInnerHTML: {__html:marked(this.props.comment.body, markdownOpts)}
            })
          );
        }
      });
      
      var EventIcon = React.createClass({
        propTypes: {
          event: React.PropTypes.string.isRequired
        },
        
        render: function() {
          var icon;
          switch (this.props.event) {
            case "assigned":
              icon = "user";
              break;
            case "unassigned":
              icon = "user-times";
              break;
            case "labeled":
              icon = "tags";
              break;
            case "unlabeled":
              icon = "times";
              break;
            case "opened":
              icon = "circle-o";
              break;
            case "closed":
              icon = "times-circle-o";
              break;
            case "reopened":
              icon = "circle-o";
              break;
            case "milestoned":
              icon = "calendar";
              break;
            case "unmilestoned":
              icon = "calendar-times-o";
              break;
            default:
              icon = "exclamation-circle";
              break;
          }
          
          return React.createElement("i", {className:"eventIcon fa fa-" + icon});
        }
      });
      
      var EventUser = React.createClass({
        propTypes: { user: React.PropTypes.object.isRequired },
        
        render: function() {
          return React.createElement("span", {className:"eventUser"},
            React.createElement("img", {className:"eventAvatar", src:this.props.user.avatar_url}),
            this.props.user.login
          );
        }
      });
      
      var AssignedEventDescription = React.createClass({
        propTypes: { event: React.PropTypes.object.isRequired },
        render: function() {
          if (this.props.event.assignee.id == this.props.event.actor.id) {
            return React.createElement("span", {}, "self assigned this");
          } else {
            return React.createElement("span", {},
              React.createElement("span", {}, "assigned this to "),
              React.createElement(EventUser, {user:this.props.event.assignee})
            );
          }
        }
      });
      
      var MilestoneEventDescription = React.createClass({
        propTypes: { event: React.PropTypes.object.isRequired },
        render: function() {
          if (this.props.event.milestone) {
            return React.createElement("span", {},
              "modified the milestone: ",
              React.createElement("span", {className: "eventMilestone"}, this.props.event.milestone.title)
            );
          } else {
            return React.createElement("span", {}, "unset the milestone");
          }
        }
      });
      
      var UnknownEventDescription = React.createClass({
        propTypes: { event: React.PropTypes.object.isRequired },
        render: function() {
          return React.createElement("span", {}, this.props.event.event);
        }
      });
      
      var ClassForEvent = function(event) {
        switch (event.event) {
          case "assigned": return AssignedEventDescription;
          case "milestoned": return MilestoneEventDescription;
          default: return UnknownEventDescription
        }
      }
      
      var Event = React.createClass({
        propTypes: {
          event: React.PropTypes.object.isRequired,
          last: React.PropTypes.bool,
          veryLast: React.PropTypes.bool
        },
        
        render: function() {
          var className = "event";
          if (this.props.veryLast) {
            className += " eventVeryLast";
          } else if (!this.props.last) {
            className += " eventDelimited";
          }
          return React.createElement('div', {className:className},
            React.createElement(EventIcon, {event: this.props.event.event }),
            React.createElement(EventUser, {user: this.props.event.actor }),
            " ",
            React.createElement(ClassForEvent(this.props.event), {event: this.props.event}),
            " ",
            React.createElement(TimeAgo, {className:"eventTime", live:true, date:this.props.event.created_at})
          );
        }
      });
    
      var ActivityList = React.createClass({
        propTypes: {
          issue: React.PropTypes.object.isRequired
        },
        
        render: function() {        
          var firstComment = {
            body: this.props.issue.body,
            user: this.props.issue.user,
            id: this.props.issue.id,
            updated_at: this.props.issue.updated_at,
            created_at: this.props.issue.created_at
          };
          
          // need to merge events and comments together into one array, ordered by date
          var eventsAndComments = [firstComment];

          eventsAndComments = eventsAndComments.concat(this.props.issue.allEvents);
          eventsAndComments = eventsAndComments.concat(this.props.issue.allComments);
          
          eventsAndComments = eventsAndComments.sort(function(a, b) {
            var da = new Date(a.created_at);
            var db = new Date(b.created_at);
            if (da < db) {
              return -1;
            } else if (db < da) {
              return 1;
            } else {
              if (a.id < b.id) {
                return -1;
              } else if (b.id < a.id) {
                return 1;
              } else {
                return 0;
              }
            }
          });
          
          // need to filter certain types of events from displaying
          eventsAndComments = eventsAndComments.filter(function(e) {
            if (e.event == undefined) {
              return true;
            } else {
              switch (e.event) {
                case "subscribed": return false;
                default: return true;
              }
            }
          });
          
          return React.createElement('div', {className:'activityContainer'},
            React.createElement('div', {className:'activityList'}, 
              eventsAndComments.map(function(e, i, a) {
                if (e.event != undefined) {
                  var next = a[i+1];
                  return React.createElement(Event, {
                    key:e.id, 
                    event:e, 
                    last:(next!=undefined && next.event==undefined),
                    veryLast:(next==undefined)
                  });
                } else {
                  return React.createElement(Comment, {key:e.id, comment:e, first:i==0})
                }
              })
            )
          );
        }
      });
      
      var debugToken = "8de44b7cf7050c827165d3f509abb1bd187a62e4";
      
      var DebugLoader = React.createClass({
        propTypes: { issue: React.PropTypes.object },
        render: function() {
          return React.createElement("div", {className:"debugLoader"},
            React.createElement("form", {onSubmit:this.loadProblem},
              React.createElement("span", {}, "Load Problem: "),
              React.createElement("input", {type:"text", id:"debugInput", size:40, defaultValue:this.props.issue.url.replace(/https:\/\/api.github.com\/repos\/(.*?)\/(.*?)\/issues\/(\d+)/, "$1/$2/$3")}),
              React.createElement("a", {href:this.props.issue.url.replace("api.", "").replace("/repos", ""), target:"_blank"}, "source")
            )
          );
        },
        loadProblem: function(e) {
          e.preventDefault();
          
          var problemEl = document.getElementById("debugInput");
          var problemRef = problemEl.value;
          var [owner, repo, number] = problemRef.split(/[\/#]/);
          updateIssue(...problemRef.split(/[\/#]/));          
        }
      });
            
      function simpleFetch(url) {
        return new Promise(function(resolve, reject) {
          var initial = fetch(url, { headers: { Authorization: "token " + debugToken }, method: "GET" });
          initial.then(function(resp) {
            return resp.json();
          }).then(function(body) {
            resolve(body);
          }).catch(function(err) {
            reject(err);
          });
        });
      }
            
      function pagedFetch(url) /* => Promise */ {
        var opts = { headers: { Authorization: "token " + debugToken }, method: "GET" };
        var initial = fetch(url, opts);
        return initial.then(function(resp) {
          var pages = []
          var link = resp.headers.get("Link");
          if (link) {
            var [next, last] = link.split(", ");
            var matchNext = next.match(/\<(.*?)\>; rel="next"/);
            var matchLast = last.match(/\<(.*?)\>; rel="last"/);
            console.log(matchNext);
            console.log(matchLast);
            if (matchNext && matchLast) {
              var second = parseInt(matchNext[1].match(/page=(\d+)/)[1]);
              var last = parseInt(matchLast[1].match(/page=(\d+)/)[1]);
              console.log("second: " + second + " last: " + last);
              for (var i = second; i <= last; i++) {
                var pageURL = matchNext[1].replace(/page=\d+/, "page=" + i);
                console.log("Adding pageURL: " + pageURL);
                pages.push(fetch(pageURL, opts).then(function(resp) { return resp.json(); }));
              }
            }
          }
          return Promise.all([resp.json()].concat(pages));
        }).then(function(pages) {
          return pages.reduce(function(a, b) { return a.concat(b); });
        });
      }
    
      function updateIssue(owner, repo, number) {
        var reqs = [simpleFetch("https://api.github.com/repos/" + owner + "/" + repo + "/issues/" + number),
                    pagedFetch("https://api.github.com/repos/" + owner + "/" + repo + "/issues/" + number + "/events"),
                    pagedFetch("https://api.github.com/repos/" + owner + "/" + repo + "/issues/" + number + "/comments")];
        
        Promise.all(reqs).then(function(parts) {
          console.log("all resolved");
          var issue = parts[0];
          issue.allEvents = parts[1];
          issue.allComments = parts[2];
          console.log(issue);
          
          if (issue.id) {
            renderIssue(issue);
          }
        }).catch(function(err) {
          console.log(err);
        });
      }
      
      function renderIssue(issue) {
        console.log("rendering:");
        console.log(issue);
        
        var activityElement = React.createElement(ActivityList, {key:issue["id"], issue:issue});
        var outerElement = activityElement;
        if (debugToken) {
          outerElement = React.createElement("div", {},
            React.createElement(DebugLoader, {issue:issue}),
            activityElement
          );
        }
        ReactDOM.render(
          outerElement,
          document.getElementById('react-app')
        )
      }
      
      updateIssue("realartists", "shiphub-cocoa", "1")
      
      //renderIssue({"assignee": {"login": "kogir", "starred_url": "https://api.github.com/users/kogir/starred{/owner}{/repo}", "repos_url": "https://api.github.com/users/kogir/repos", "events_url": "https://api.github.com/users/kogir/events{/privacy}", "avatar_url": "https://avatars.githubusercontent.com/u/87309?v=3", "gravatar_id": "", "gists_url": "https://api.github.com/users/kogir/gists{/gist_id}", "id": 87309, "site_admin": false, "organizations_url": "https://api.github.com/users/kogir/orgs", "type": "User", "followers_url": "https://api.github.com/users/kogir/followers", "url": "https://api.github.com/users/kogir", "following_url": "https://api.github.com/users/kogir/following{/other_user}", "received_events_url": "https://api.github.com/users/kogir/received_events", "subscriptions_url": "https://api.github.com/users/kogir/subscriptions", "html_url": "https://github.com/kogir"}, "state": "open", "allEvents": [{"assignee": {"login": "kogir", "starred_url": "https://api.github.com/users/kogir/starred{/owner}{/repo}", "repos_url": "https://api.github.com/users/kogir/repos", "events_url": "https://api.github.com/users/kogir/events{/privacy}", "avatar_url": "https://avatars.githubusercontent.com/u/87309?v=3", "gravatar_id": "", "gists_url": "https://api.github.com/users/kogir/gists{/gist_id}", "id": 87309, "site_admin": false, "organizations_url": "https://api.github.com/users/kogir/orgs", "type": "User", "followers_url": "https://api.github.com/users/kogir/followers", "url": "https://api.github.com/users/kogir", "following_url": "https://api.github.com/users/kogir/following{/other_user}", "received_events_url": "https://api.github.com/users/kogir/received_events", "subscriptions_url": "https://api.github.com/users/kogir/subscriptions", "html_url": "https://github.com/kogir"}, "actor": {"login": "kogir", "starred_url": "https://api.github.com/users/kogir/starred{/owner}{/repo}", "repos_url": "https://api.github.com/users/kogir/repos", "events_url": "https://api.github.com/users/kogir/events{/privacy}", "avatar_url": "https://avatars.githubusercontent.com/u/87309?v=3", "gravatar_id": "", "gists_url": "https://api.github.com/users/kogir/gists{/gist_id}", "id": 87309, "site_admin": false, "organizations_url": "https://api.github.com/users/kogir/orgs", "type": "User", "followers_url": "https://api.github.com/users/kogir/followers", "url": "https://api.github.com/users/kogir", "following_url": "https://api.github.com/users/kogir/following{/other_user}", "received_events_url": "https://api.github.com/users/kogir/received_events", "subscriptions_url": "https://api.github.com/users/kogir/subscriptions", "html_url": "https://github.com/kogir"}, "id": 549212947, "created_at": "2016-02-12T23:49:51Z", "url": "https://api.github.com/repos/realartists/shiphub-server/issues/events/549212947", "commit_id": null, "commit_url": null, "event": "assigned"}], "labels_url": "https://api.github.com/repos/realartists/shiphub-server/issues/13/labels{/name}", "locked": false, "created_at": "2016-02-11T20:31:37Z", "html_url": "https://github.com/realartists/shiphub-server/issues/13", "closed_by": null, "user": {"login": "james-howard", "starred_url": "https://api.github.com/users/james-howard/starred{/owner}{/repo}", "repos_url": "https://api.github.com/users/james-howard/repos", "events_url": "https://api.github.com/users/james-howard/events{/privacy}", "avatar_url": "https://avatars.githubusercontent.com/u/2006254?v=3", "gravatar_id": "", "gists_url": "https://api.github.com/users/james-howard/gists{/gist_id}", "id": 2006254, "site_admin": false, "organizations_url": "https://api.github.com/users/james-howard/orgs", "type": "User", "followers_url": "https://api.github.com/users/james-howard/followers", "url": "https://api.github.com/users/james-howard", "following_url": "https://api.github.com/users/james-howard/following{/other_user}", "received_events_url": "https://api.github.com/users/james-howard/received_events", "subscriptions_url": "https://api.github.com/users/james-howard/subscriptions", "html_url": "https://github.com/james-howard"}, "updated_at": "2016-02-15T22:14:47Z", "closed_at": null, "id": 133080754, "events_url": "https://api.github.com/repos/realartists/shiphub-server/issues/13/events", "allComments": [{"issue_url": "https://api.github.com/repos/realartists/shiphub-server/issues/13", "id": 183050352, "created_at": "2016-02-11T20:32:08Z", "url": "https://api.github.com/repos/realartists/shiphub-server/issues/comments/183050352", "user": {"login": "james-howard", "starred_url": "https://api.github.com/users/james-howard/starred{/owner}{/repo}", "repos_url": "https://api.github.com/users/james-howard/repos", "events_url": "https://api.github.com/users/james-howard/events{/privacy}", "avatar_url": "https://avatars.githubusercontent.com/u/2006254?v=3", "gravatar_id": "", "gists_url": "https://api.github.com/users/james-howard/gists{/gist_id}", "id": 2006254, "site_admin": false, "organizations_url": "https://api.github.com/users/james-howard/orgs", "type": "User", "followers_url": "https://api.github.com/users/james-howard/followers", "url": "https://api.github.com/users/james-howard", "following_url": "https://api.github.com/users/james-howard/following{/other_user}", "received_events_url": "https://api.github.com/users/james-howard/received_events", "subscriptions_url": "https://api.github.com/users/james-howard/subscriptions", "html_url": "https://github.com/james-howard"}, "updated_at": "2016-02-11T20:32:15Z", "body": "Revising my other comment", "html_url": "https://github.com/realartists/shiphub-server/issues/13#issuecomment-183050352"}, {"issue_url": "https://api.github.com/repos/realartists/shiphub-server/issues/13", "id": 184411177, "created_at": "2016-02-15T21:55:49Z", "url": "https://api.github.com/repos/realartists/shiphub-server/issues/comments/184411177", "user": {"login": "james-howard", "starred_url": "https://api.github.com/users/james-howard/starred{/owner}{/repo}", "repos_url": "https://api.github.com/users/james-howard/repos", "events_url": "https://api.github.com/users/james-howard/events{/privacy}", "avatar_url": "https://avatars.githubusercontent.com/u/2006254?v=3", "gravatar_id": "", "gists_url": "https://api.github.com/users/james-howard/gists{/gist_id}", "id": 2006254, "site_admin": false, "organizations_url": "https://api.github.com/users/james-howard/orgs", "type": "User", "followers_url": "https://api.github.com/users/james-howard/followers", "url": "https://api.github.com/users/james-howard", "following_url": "https://api.github.com/users/james-howard/following{/other_user}", "received_events_url": "https://api.github.com/users/james-howard/received_events", "subscriptions_url": "https://api.github.com/users/james-howard/subscriptions", "html_url": "https://github.com/james-howard"}, "updated_at": "2016-02-15T21:55:49Z", "body": "| Column 1 | Column 2|\n| --- | --- |\n| Data 1 | Data 2 |\n\n```C\nint main(void) {\n\treturn 0;\n}\n```", "html_url": "https://github.com/realartists/shiphub-server/issues/13#issuecomment-184411177"}], "labels": [], "number": 13, "repository_url": "https://api.github.com/repos/realartists/shiphub-server", "url": "https://api.github.com/repos/realartists/shiphub-server/issues/13", "milestone": null, "comments": 2, "title": "Support comment editing", "body": "- [x] First\r\n- [ ] Second\r\n- [x] Third", "comments_url": "https://api.github.com/repos/realartists/shiphub-server/issues/13/comments"});
    </script>
  </body>
</html>